"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[2680],{2875:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>d,frontMatter:()=>t,metadata:()=>s,toc:()=>u});var i=l(4848),o=l(8453);const t={sidebar_position:2},r="Faire clignoter une LED",s={id:"tutorial/python/python-blink-led",title:"Faire clignoter une LED",description:"En \xe9lectronique il existe une version un peu plus lumineuse du \u201cHello world!\u201d que l\u2019on appelle \u201cBlink\u201d (clignoter en anglais) qui, son nom l\u2019indique, a pour but de faire clignoter une LED sur la carte que l\u2019on a entre les mains.",source:"@site/docs/tutorial/python/python-blink-led.md",sourceDirName:"tutorial/python",slug:"/tutorial/python/python-blink-led",permalink:"/docs/tutorial/python/python-blink-led",draft:!1,unlisted:!1,editUrl:"https://github.com/Eliobot/documentation/tree/main/docs/tutorial/python/python-blink-led.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Configuration de Python",permalink:"/docs/tutorial/python/python-setup"}},a={},u=[{value:"D\xe9claration des entr\xe9es / sorties",id:"d\xe9claration-des-entr\xe9es--sorties",level:2},{value:"D\xe9claration de la LED Neopixel",id:"d\xe9claration-de-la-led-neopixel",level:2},{value:"Ajout d&#39;une temporisation",id:"ajout-dune-temporisation",level:2},{value:"Ajout d&#39;une boucle",id:"ajout-dune-boucle",level:2},{value:"Programme final",id:"programme-final",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"faire-clignoter-une-led",children:"Faire clignoter une LED"}),"\n",(0,i.jsx)(n.p,{children:"En \xe9lectronique il existe une version un peu plus lumineuse du \u201cHello world!\u201d que l\u2019on appelle \u201cBlink\u201d (clignoter en anglais) qui, son nom l\u2019indique, a pour but de faire clignoter une LED sur la carte que l\u2019on a entre les mains.\nEt \xe7a tombe bien puisque Eliobot est justement \xe9quip\xe9 d\u2019une LED, qui plus est multicolore, ce qui va te permettre d\u2019afficher la couleur de ton choix !"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"alt text",src:l(2457).A+"",width:"2048",height:"1280"})}),"\n",(0,i.jsx)(n.p,{children:"Nous allons commencer notre code en int\xe9grant quelques biblioth\xe8ques. Ce sont des ensembles de codes d\xe9j\xe0 \xe9crits nous permettant de rajouter des fonctions facilement."}),"\n",(0,i.jsx)(n.h2,{id:"d\xe9claration-des-entr\xe9es--sorties",children:"D\xe9claration des entr\xe9es / sorties"}),"\n",(0,i.jsx)(n.p,{children:"La premi\xe8re s\u2019appelle \u201cboard\u201d et est sp\xe9cifique \xe0 CircuitPython. C\u2019est gr\xe2ce \xe0 elle que nous allons pouvoir expliquer \xe0 notre programme comment sont connect\xe9s les \xe9l\xe9ments au microcontr\xf4leur (le cerveau de Eliobot)"}),"\n",(0,i.jsx)(n.p,{children:"Pour l\u2019int\xe9grer dans notre programme on utilise la ligne suivante :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import board\n"})}),"\n",(0,i.jsx)(n.p,{children:"Cela nous permet d'appeler les entr\xe9e / sorties de la cartes en utilisant le num\xe9ro de la broche."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"board.IO3\n"})}),"\n",(0,i.jsx)(n.p,{children:"Ou alors comme dans notre cas d'utiliser le nom qui est assign\xe9 \xe0 la broche"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"board.NEOPIXEL\n"})}),"\n",(0,i.jsx)(n.h2,{id:"d\xe9claration-de-la-led-neopixel",children:"D\xe9claration de la LED Neopixel"}),"\n",(0,i.jsx)(n.p,{children:"La LED de Eliobot a un fonctionnement un peu sp\xe9cifique vu qu\u2019elle peut afficher plusieurs couleurs, on va utiliser une autre biblioth\xe8que pour nous simplifier la t\xe2che :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import neopixel\n"})}),"\n",(0,i.jsx)(n.p,{children:"Maintenant que nous biblioth\xe8ques sont dans notre projet, nous allons pouvoir utiliser les fonctions qu\u2019elles contiennent.\nOn commence par d\xe9clarer notre LED avec la fonction suivante :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"pixel = neopixel.NeoPixel(board.NEOPIXEL, 1, brightness=0.3)\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"pixel"})," c\u2019est le nom que l\u2019on donne \xe0 notre LED"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"board.NEOPIXEL nous permet de d\xe9finir o\xf9 est branch\xe9e la LED sur la carte de Eliobot\n"})}),"\n",(0,i.jsx)(n.p,{children:"Il n\u2019y a qu\u2019une LED de connect\xe9e \xe0 cet endroit d\u2019o\xf9 le 1"}),"\n",(0,i.jsx)(n.p,{children:"Enfin on peut r\xe9gler la luminosit\xe9 avec brightness allant de 0 \xe0 1"}),"\n",(0,i.jsx)(n.p,{children:"La LED est pr\xeate \xe0 utiliser, on va donc pouvoir lui attribuer une couleur avec la commande :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"pixel.fill(( R , G , B))\n"})}),"\n",(0,i.jsx)(n.p,{children:"On utilise un code couleur RGB (Red, Green, Blue) qui consiste \xe0 d\xe9finir la quantit\xe9 de Rouge, de Vert et de Bleu que l\u2019on veut afficher avec une valeur allant de 0 (pas de couleur) \xe0 255 (couleur au maximum)"}),"\n",(0,i.jsx)(n.p,{children:"Par exemple si l\u2019on veut afficher du rouge pur, on \xe9crit :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"pixel.fill((255, 0, 0))\n"})}),"\n",(0,i.jsx)(n.p,{children:"A ce stade la couleur ne s\u2019affiche pas encore, il manque une derni\xe8re commande :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"pixel.show()\n"})}),"\n",(0,i.jsx)(n.p,{children:"Si l\u2019on ex\xe9cute le script \u25b6\ufe0fon peut alors voir Eliobot qui s\u2019illumine de la couleur demand\xe9e, dans notre cas du rouge"}),"\n",(0,i.jsx)(n.p,{children:"L\u2019\xe9tape suivante pour faire clignoter Eliobot est d\u2019\xe9teindre la LED, pour \xe7a on met toutes les valeurs de couleur \xe0 0 et bien-s\xfbr on pense \xe0 afficher le r\xe9sultat :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"pixel.fill((0, 0, 0))\npixel.show()\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ajout-dune-temporisation",children:"Ajout d'une temporisation"}),"\n",(0,i.jsx)(n.p,{children:"Ensuite on d\xe9finit le temps entre chaque action \xe0 l\u2019aide d\u2019une nouvelle librairie \u201ctime\u201d"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import time\n"})}),"\n",(0,i.jsx)(n.p,{children:"La fonction \u201csleep\u201d nous permet de mettre le programme en pause pendant une dur\xe9e exprim\xe9e en secondes, par exemple pour une seconde on \xe9crit :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"time.sleep(1)\n"})}),"\n",(0,i.jsx)(n.p,{children:"On rajoute cette pause apr\xe8s chaque changement de couleurs"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"pixel.fill((255, 0, 0))\npixel.show()\n\ntime.sleep(1)\n\npixel.fill((0, 0, 0))\npixel.show()\n\ntime.sleep(1)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Si l\u2019on ex\xe9cute \u25b6\ufe0f ce programme on peut voir que la LED s\u2019allume en rouge pendant 1 seconde puis s\u2019\xe9teint, ce qui nous rapproche quasiment de notre objectif de la faire clignoter."}),"\n",(0,i.jsx)(n.h2,{id:"ajout-dune-boucle",children:"Ajout d'une boucle"}),"\n",(0,i.jsx)(n.p,{children:"La derni\xe8re \xe9tape consiste \xe0 faire durer le clignotement plus longtemps. Pour \xe7a une m\xe9thode pourrait consister \xe0 copier/coller les 6 lignes juste au dessus un grand nombre de fois, mais notre code deviendrait extr\xeamement long et compliqu\xe9 pour pas grande chose."}),"\n",(0,i.jsx)(n.p,{children:"La m\xe9thode plus \xe9l\xe9gante consiste \xe0 utiliser une boucle pour r\xe9p\xe9ter un morceau de programme. Celle qui nous int\xe9resse ici est la boucle \u201cwhile\u201d qui va r\xe9p\xe9ter notre programme tant que la condition de celle-ci est vraie, l\u2019astuce consiste donc \xe0 lui donner la valeur \u201cTrue\u201d (toujours vrai) en condition ce qui va cr\xe9er une boucle qui se r\xe9p\xe8te \xe0 l\u2019infini."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"while True:\n\tpixel.fill((255, 0, 0))\n\tpixel.show()\n\n\ttime.sleep(1)\n\n\tpixel.fill((0, 0, 0))\n\tpixel.show()\n\n\ttime.sleep(1)\n"})}),"\n",(0,i.jsx)(n.p,{children:"On note que le code en dessous de \u201cwhile True : \u201d est indent\xe9 (d\xe9cal\xe9 vers la droite), montrant ainsi qu\u2019il va \xeatre r\xe9p\xe9t\xe9 dans la boucle."}),"\n",(0,i.jsx)(n.h2,{id:"programme-final",children:"Programme final"}),"\n",(0,i.jsx)(n.p,{children:"Voici le programme final que l\u2019on va pouvoir ex\xe9cuter \u25b6\ufe0f :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import board\nimport neopixel\nimport time\n\npixel = neopixel.NeoPixel(board.NEOPIXEL, 1, brightness=0.3)\n\nwhile True:\n\tpixel.fill((255, 0, 0))\n\tpixel.show()\n\n\ttime.sleep(1)\n\n\tpixel.fill((0, 0, 0))\n\tpixel.show()\n\n\ttime.sleep(1)\n"})})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},2457:(e,n,l)=>{l.d(n,{A:()=>i});const i=l.p+"assets/images/led-turned-on-5126cb12595873d2b956467147d7b6c0.bmp"},8453:(e,n,l)=>{l.d(n,{R:()=>r,x:()=>s});var i=l(6540);const o={},t=i.createContext(o);function r(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);